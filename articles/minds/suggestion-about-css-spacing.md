# 关于间距样式的两点建议

## 建议一：固定行高

笼统地来讲，就是将以往行高的  `1.5`  相对值换成  `calc(1em + 8px)`  的绝对值。

### 为何要固定行高？

因为行高通常情况下并非为布局着想，而是文章文本才有的。

同时，设计师在行高上的考量也并不多，往往都是设计工具中预设的，并无统一规范或最佳实践。

可能由于设计工具预设上的更改，可能由于前端在尺寸上的随性计算，<br />
都将造成无法优雅地还原设计稿，也更别提样式复用了，前端计算尺寸耗费的时间也会显得相当窝囊。

因此，这是  **间距样式规范的必要性**。

固定行高仅是个人的经验之谈和浅薄认知，<br />认为它是个比较好的开头去认识页面布局规律和前端开发流程，还请大佬们多多指正。

### 相对值或无行高的劣势

> #### 相对值行高

往往项目中只在  `body`  上加个  `line-height:1.5`  就完事了，<br />毕竟移动端上 1-3px 的差距只要设计不挑刺谁也不会多说什么。

但如果遇上  `2em`  等较大字体时，那就很难说了。

相对行高也会造成上下间距的递增变化，<br />
可能让原本的定高被撑起，可能让左图和右字顶部不再对齐，可能让容器上间距明显更多等。

可以说，相对值行高与精准还原设计稿是极大的冲突。

> #### 无行高方案

让所有非文章部分的文字都  `line-height:1`  如何呢？<br />
其实这也是种不错的方案，所测即所得，不去计算只管  `padding`  就够了。

对于像  `.btn`  和  `input`  等需要左右搭配其他元素，行高往往带来的是负面影响，<br />比如  `input`  有  `line-height`  时可能光标错位，更复杂的  `vertical-align`  关系等。<br />所以对于此类元素，没有行高确实就是最佳的实践。

但对多行文本的标题简介，无行高又会过于紧凑而需另作处理了。<br />

![](https://s1.ax1x.com/2020/03/17/8NzWb6.png)

说实话，想按这个方案进行公共类整理也是非常繁琐且容易出错的，使布局开发变得更复杂。

<a name="zq9rmu"></a>

### 推荐固定行高方案及其优势

> #### 解决间距随字号变化的问题

首先就能解决字越大间距越大的问题，无论字号如何改变，都能保持其上下间距始终为  `4px`。<br />

![](https://s1.ax1x.com/2020/03/17/8Nj9nf.jpg)<br />

> #### 不影响多行文本排版美感

对多行文本，也保持了其应有的文本间隙和美观度，又不至于较大的影响计算和布局。<br />

![](https://s1.ax1x.com/2020/03/17/8NXeeO.jpg)<br />

> #### 方便直接心算出结果

定值行高也有着和无行高时那样方便计算的优点，测出来减八后用  `padding`  补即可。

固定行高写成公共类非常方便，字号根据黄金比例递增，行高根据字号加八，非常语义又通用。

```css
h6, .h6 { font-size: 12px; line-height: 20px; }
h5, .h5 { font-size: 16px; line-height: 24px; }
h4, .h4 { font-size: 20px; line-height: 28px; }
h3, .h3 { font-size: 28px; line-height: 36px; }
h2, .h2 { font-size: 40px; line-height: 48px; }
h1, .h1 { font-size: 60px; line-height: 68px; }

/* 或者 */
.font16 { font-size: 16px; line-height: 24px; }
.font18 { font-size: 18px; line-height: 26px; }
```

行高所加的 8 并非固定，比如两行间距 8px 对设计可能有点窄，10px/12px 也可以是备选方案。

## 建议二：区分定高布局

对设计而言并不存在垂直居中这个功能的顾虑，<br />
但对前端而言，垂直居中的方案少说也有 7 种。<br />
_（前端垂直居中方案：行高，间距计算，table，flex，定位 x2，before）_

所以这就会造成，制作过程中遇上横排布局时都需要进行一定的衡量，<br />
父级要添加的属性是否有影响，文本过长会不会崩，再加个子级好不好拓展等...

个人观念，**将横排布局设计风格划分为定高和非定高**，<br />
比如，这个布局高度是定死的 50px 可以直接垂直居中，另一种是固定的 padding 间隙而不在乎最终高度是多少。<br />
这样区分是用间距还是定高，会更通用，且能更好地帮助规范布局风格和开发习惯。

### 举个反例

市面上的做法，比如 weui、bootstrap4、Bulma、elementUI 等等，<br />
它们是希望你完全按照它的设计风格来的，所以间隙也是写死的 px，字号放大就重新给一套写死的 px，<br />
甚至都不愿意用 em 来实现这种 `.btn-xl` 元素扩大的效果。

这也意味着，当我想改动框架的样式时，不仅要覆盖它的 `font-size` 还有 `line-height` 和 `padding` 才能实现。<br />
说到底，这些 UI 框架本来就不想让你改所以才写得这么死的。

但是吧，像 weui 这样的骚东西就喜欢让我们认它作标准而它自己又不按标准来。<br />
比如 `.weui-cell` 可能受 `.weui-btn_mini` 的影响造成每行高度不同，要改成相同又要改动贼多。

### 定高布局的优势

如下布局，最好是定高且多半不受字号影响，细细回味，这样定高单行布局的使用场景是相当多的。<br />
而 UI 库或组件库们，总喜欢给它加上 `List` 或 `Panel` 之类的语义才有这种布局，相当不通用。<br />
其次，这个原子类的修改成本也相对要小很多。

![](https://s1.ax1x.com/2020/03/17/8UEswd.png)<br />

另一方面，非定高的布局还有很多，它离不开 padding，又不便于 flex 类化。<br />

![](https://s1.ax1x.com/2020/03/17/8UEWSf.png)<br />

所以我才有学会区分定高布局这个提议，熟练后能够不错地减少工作量。

## 其他方向的建议

除了以上两条建议，其实还有着很多可以讨论和理念对撞的领域，<br />
比如图标大小，底部导航与九宫格导航的异同，设计与前端在盒子划分上的思维不同等，欢迎讨论。<br />

![](https://s1.ax1x.com/2020/03/17/8UihVI.png)
